!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports["esri-leaflet-query-run-async"]=r():e["esri-leaflet-query-run-async"]=r()}(this,function(){return function(e){function r(n){if(t[n])return t[n].exports;var o=t[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}var t={};return r.m=e,r.c=t,r.p="",r(0)}([function(e,r,t){"use strict";function n(e){var r=e.defaultDeferFactory,t=e.runAsync,n=e.cancel;return function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=o.promiseFactory,u={runAsync:t.bind(e.prototype,{promiseFactory:c||r,esriLeafletQuery:e}),cancel:n};e.prototype.runAsync=function(){return u.runAsync(this)},e.prototype.cancel=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.reason;return u.cancel.call(this,{reason:r})}}}Object.defineProperty(r,"__esModule",{value:!0});var o=t(1),c=t(2),u=n({defaultDeferFactory:(0,o.deferFactory)(Promise),runAsync:c.runAsync,cancel:c.cancel});r.default=u},function(e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.deferFactory=function(e){return function(){var r={},t=function(e){return function(r,t){e.resolve=r,e.reject=t}};return r.promise=new e(t(r)),r}}},function(e,r){"use strict";function t(e,r){var t=e.promiseFactory,n=e.esriLeafletQuery,o=t();this.queryPromise=o;var c=n.prototype.run.call(r,function(e,r,t){return o.resolve({e:e,data:r,response:t})});return o.promise.catch(function(e){return c.abort(),e}),o.promise}function n(e){var r=e.reason;return this.queryPromise.reject({reason:"CANCEL_REQUEST"+(r?": "+r:"")})}Object.defineProperty(r,"__esModule",{value:!0}),r.runAsync=t,r.cancel=n}])});
//# sourceMappingURL=esri-leaflet-query-run-async.js.map